{
  "name": "contest-organizer",
  "private": true,
  "version": "0.0.1",
  "description": "Tool to organize & enjoy your sport contest.",
  "type": "module",
  "scripts": {
    "build": "stencil build",
    "start": "stencil build --dev --watch --serve",
    "test": "stencil test --spec --e2e",
    "test.watch": "stencil test --spec --e2e --watchAll",

    "oldprod-setSrcBasePath": "sed -i 's/src=\"/src=\"\\/contest2/g' /var/www/marius.click/html/contest2/index.html",
    "oldprod-setHrefBasePath": "sed -i 's/href=\"/href=\"\\/contest2/g' /var/www/marius.click/html/contest2/index.html",
    "oldprod-update-paths": "npm run oldprod-setSrcBasePath && npm run oldprod-setHrefBasePath",
    "oldprod-clean": "rm -rf /var/www/marius.click/html/contest2/*",
    "oldprod-push": "cp -r www/* /var/www/marius.click/html/contest2/",
    "oldprod-api-group": "chown -R debian:www-data /var/www/marius.click/html/contest2/api/data",
    "oldprod-api-rights-grw": "chmod -R g+rw /var/www/marius.click/html/contest2/api/data/*",

    "pre-prod": "npm run build && npm run pre-prod-only",
    "pre-prod-only": "npm run pre-prod-backup-api && npm run build && npm run pre-prod-clean && npm run pre-prod-push && npm run pre-prod-update-paths && npm run pre-prod-restore-api",
    "pre-prod-backup-api":"cp -r /var/www/marius.click/html/contest-preprod/api ~/backup/contest-api-pre-prod/",
    "pre-prod-restore-api": "cp -r ~/backup/contest-api-pre-prod/api /var/www/marius.click/html/contest-preprod/ && npm run pre-prod-api-group && npm run pre-prod-api-rights-grw",
    "pre-prod-setSrcBasePath": "sed -i 's/src=\"/src=\"\\/contest-preprod/g' /var/www/marius.click/html/contest-preprod/index.html",
    "pre-prod-setHrefBasePath": "sed -i 's/href=\"/href=\"\\/contest-preprod/g' /var/www/marius.click/html/contest-preprod/index.html",
    "pre-prod-update-paths": "npm run pre-prod-setSrcBasePath && npm run pre-prod-setHrefBasePath",
    "pre-prod-clean": "rm -rf /var/www/marius.click/html/contest-preprod/*",
    "pre-prod-push": "cp -r www/* /var/www/marius.click/html/contest-preprod/",
    "pre-prod-api-group": "chown -R debian:www-data /var/www/marius.click/html/contest-preprod/api/data",
    "pre-prod-api-rights-grw": "chmod -R g+rw /var/www/marius.click/html/contest-preprod/api/data/*",

    "backup-api": "cp -r /var/www/marius.click/html/contest/api /var/www/marius.click/html/contest2/",
    "backup-api-data": "cp -r /var/www/marius.click/html/contest/api/data/* ~/backup/contest-data/",
    "backup": "npm run oldprod-clean && npm run oldprod-push && npm run oldprod-update-paths && npm run backup-api-data && npm run backup-api && npm run oldprod-api-group && npm run oldprod-api-rights-grw",
    "prod-clean": "rm -rf /var/www/marius.click/html/contest/*",
    "prod-push": "cp -r www/* /var/www/marius.click/html/contest/",
    "setSrcBasePath": "sed -i 's/src=\"/src=\"\\/contest/g' /var/www/marius.click/html/contest/index.html",
    "setHrefBasePath": "sed -i 's/href=\"/href=\"\\/contest/g' /var/www/marius.click/html/contest/index.html",
    "prod-update-paths": "npm run setSrcBasePath && npm run setHrefBasePath",
    "prod": "npm run backup && npm run build && npm run prod-only",
    "prod-only": "npm run build && npm run prod-clean && npm run prod-push && npm run prod-update-paths && npm run restore-api",
    "restore-api-files": "cp -r /var/www/marius.click/html/contest2/api /var/www/marius.click/html/contest/",
    "restore-api-group": "chown -R debian:www-data /var/www/marius.click/html/contest/api/data",
    "restore-api-rights-grw": "chmod -R g+rw /var/www/marius.click/html/contest/api/data/*",
    "restore-api": "npm run restore-api-files && npm run restore-api-group && npm run restore-api-rights-grw",
    "proxy": "node ./scripts/proxy.js",
    "generate": "stencil generate"
  },
  "devDependencies": {
    "@ionic/core": "^7.2.2",
    "@stencil/core": "^4.0.3",
    "@types/jest": "^29.5.3",
    "http-proxy": "^1.18.1",
    "jest": "^29.6.2",
    "jest-cli": "^29.6.2",
    "puppeteer": "^21.0.1"
  },
  "engines": {
    "node": ">= 18.x",
    "npm": ">= 8.x"
  },
  "license": "MIT",
  "dependencies": {
    "css.gg": "^2.1.1"
  }
}
